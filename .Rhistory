knitr::opts_chunk$set(echo = TRUE)
require(dplyr)
dataset <- read.csv('PAX_dataset.csv',stringsAsFactors = FALSE)
dim(dataset)[1]
dim(dataset)[2]
dataset <- read.csv('./input/PAX_dataset.csv',stringsAsFactors = FALSE)
dim(dataset)[1]
dim(dataset)[2]
dataset <- read.csv('./input/PAX_dataset.csv',stringsAsFactors = FALSE)
dim(dataset)[1]
dim(dataset)[2]
knitr::opts_chunk$set(echo = TRUE)
require(dplyr)
dataset <- read.csv('./input/PAX_dataset.csv',stringsAsFactors = FALSE)
dim(dataset)[1]
dim(dataset)[2]
column_names <- c('ï..Con','Contp','PP','PPName','Reg','AgtId','Agt','Dat','Status','Lgt','N_characters','Agtp','Stage','StageSub','Part','ThrdPart','OthAgr','Loc1ISO','Loc2ISO','Loc1GWNO','Loc2GWNO','UcdpCon','UcdpAgr','PamAgr','CowWar')
final_dataset <- dataset[,column_names]
cat('Tenim ',dim(final_dataset)[2], ' atributs')
length(unique(dataset$AgtId)) #933 DISTINCT VALUES
column_names_hr <- c('HrGen','EqGen','HrDem','HrFra','HrfSp','HrfBor','HrfTinc','HrfOth','AgtId')
hr_dataset <- dataset[,column_names_hr]
hr_dataset <- hr_dataset %>% mutate(HrGen = ifelse(HrGen == "1",'Mentioned','Not mentioned'))
hr_dataset <- hr_dataset %>% mutate(HrfSp = ifelse(HrfSp == "1",'Mentioned','Not mentioned'))
hr_dataset <- hr_dataset %>% mutate(HrfBor = ifelse(HrfBor == "1",'Mentioned','Not mentioned'))
hr_dataset <- hr_dataset %>% mutate(HrfTinc = ifelse(HrfTinc == "1",'Mentioned','Not mentioned'))
hr_dataset <- hr_dataset %>% mutate(HrfOth = ifelse(HrfOth == "1",'Mentioned','Not mentioned'))
hr_dataset$EqGen <- factor(hr_dataset$EqGen)
levels(hr_dataset$EqGen) <- list(
'Not provisioned' = c("0"),
'Rhetorical provisions' = c("1"),
'Substantive provisions' = c("2"),
'Detailed substantive provisions' = c("3"))
hr_dataset$HrDem <- factor(hr_dataset$HrDem)
levels(hr_dataset$HrDem) <- list(
'Not provisioned' = c("0"),
'Rhetorical provisions' = c("1"),
'Substantive provisions' = c("2"),
'Detailed substantive provisions' = c("3"))
hr_dataset$HrFra <- factor(hr_dataset$HrFra)
levels(hr_dataset$HrFra) <- list(
'Not provisioned' = c("0"),
'Rhetorical provisions' = c("1"),
'Substantive provisions' = c("2"),
'Detailed substantive provisions' = c("3"))
unique(hr_dataset$HrDem) ## Una variable amb 4 categories
unique(hr_dataset$HrGen) ## Una variable binària
final_dataset <- merge(final_dataset,hr_dataset )
dim(final_dataset)[1]
dim(final_dataset)[2]
names(final_dataset)[names(final_dataset) == 'ï..Con'] <- 'Con'
write.csv(final_dataset, file = "./output/PAX_clean.csv", row.names = FALSE)
